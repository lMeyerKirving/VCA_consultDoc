<div class="bg-[#F8F5F0] min-h-screen flex flex-col">
  <!-- Bandeau supérieur -->
  <header class="bg-white border-b border-gray-200 py-6 shadow-sm">
    <h1 class="text-3xl font-serif text-gray-700 text-center tracking-widest uppercase">
      Consultation PLM Production
    </h1>
  </header>

  <!-- Contenu principal -->
  <main class="flex-1 container mx-auto px-8 py-10 max-w-6xl">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Bloc de gauche -->
      <div class="w-full lg:w-1/3 bg-white rounded-lg shadow-md p-8">
        <h2 class="text-lg font-semibold text-gray-700 mb-6 uppercase">
          Pièce recherchée
        </h2>

        <!-- Formulaire de recherche -->
        <form (submit)="onSearch(); $event.preventDefault()" class="space-y-6">
          <div>
            <label for="reference" class="block text-sm font-medium text-gray-600 mb-2">
              Référence
            </label>
            <input
              id="reference"
              type="text"
              [(ngModel)]="searchTerm"
              name="reference"
              placeholder="Entrez une référence"
              class="w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring focus:ring-[#d1bfa7] text-gray-800"
            />
          </div>
          <button
            type="submit"
            class="w-full bg-[#d1bfa7] text-white py-3 rounded-lg hover:bg-[#b5a18c] transition-all text-lg font-semibold"
          >
            Rechercher
          </button>
        </form>

        <!-- Détails de la pièce -->
        <div *ngIf="result?.ref_utilisat" class="mt-10 text-center">
          <h3 class="text-md font-bold text-gray-700">Références associées</h3>
          <ul class="mt-4 space-y-2">
            <li
              *ngFor="let ref of result.ref_utilisat"
              class="text-sm text-gray-600"
            >
              {{ ref }}
            </li>
          </ul>
        </div>
      </div>

      <!-- Bloc de droite -->
      <div class="w-full lg:w-2/3 bg-white rounded-lg shadow-md p-8">
        <h2 class="text-lg font-semibold text-gray-700 mb-6 uppercase" *ngIf="result?.ref_utilisat">
          Résultats de la recherche
        </h2>
        <div *ngIf="result?.ref_utilisat; else emptyState">
          <ul class="space-y-2">
            <li
              *ngFor="let ref of result.ref_utilisat"
              class="text-sm text-gray-600 border-b pb-2"
            >
              Référence : {{ ref }}
            </li>
          </ul>
          <!-- Placeholders pour les catégories -->
          <!--
          <div
            *ngFor="let category of result.categories"
            class="mb-6 p-6 rounded-lg bg-[#F8F5F0] border border-gray-200"
          >
            <h3 class="text-sm font-bold text-gray-800 mb-3">{{ category.name }}</h3>
            <ul class="space-y-2">
              <li
                *ngFor="let file of category.files"
                class="flex justify-between items-center text-sm text-gray-600"
              >
                <span>{{ file.name }}</span>
                <a
                  [href]="file.url"
                  target="_blank"
                  class="text-[#006F62] underline hover:text-[#004D4A] transition-all"
                >
                  Ouvrir
                </a>
              </li>
            </ul>
          </div>
          -->
        </div>
        <ng-template #emptyState>
          <p class="text-gray-500 text-center">Aucune donnée disponible. Effectuez une recherche pour voir les résultats.</p>
        </ng-template>
      </div>
    </div>
  </main>
</div>
